@model List<ProductSummaryViewModel>

@{
	Layout = "_Layout";
}

<h2 class="mb-4">Ürünler</h2>
<style>
	.product-image {
		height: 200px;
		width: 100%;
		object-fit: contain;
		padding: 10px;
		background-color: white;
		border-radius: 10px;
	}
</style>
<div class="row g-4">
	@foreach (var item in Model)
	{
		var isDiscounted = item.DiscountedPrice < item.Price;
		<div class="col-12 col-sm-6 col-lg-3">
			<div class="card h-100 product-card">
				<img src="@item.ImageUrl" class="card-img-top product-image" alt="@item.Name" />
				<div class="card-body d-flex flex-column">
					<h5 class="card-title">@item.Name</h5>
					<p class="card-text mb-2">@item.Description</p>
					<div class="mt-auto">
						<div class="d-flex justify-content-between align-items-center">
							@if (isDiscounted)
							{
								<div>
									<p class="original-price mb-1 mb-lg-0">
										<del>@item.Price.ToString("C0", System.Globalization.CultureInfo.GetCultureInfo("tr-TR"))</del>
									</p>
									<p class="discounted-price mb-0">
										@item.DiscountedPrice.ToString("C0", System.Globalization.CultureInfo.GetCultureInfo("tr-TR"))
										<span class="badge bg-danger">@item.DiscountRate %</span>
									</p>
								</div>
							}
							else
							{
								<p class="price mb-0">
									@item.Price.ToString("C0", System.Globalization.CultureInfo.GetCultureInfo("tr-TR"))
								</p>
							}

							<!-- Favori Butonu Sağda -->
							<button class="btn">
								<i class="fas fa-star"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	}
</div>
